1) Roadmap –ø—Ä–æ–µ–∫—Ç–∞
0. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

–¶–µ–ª—å: –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–º–∫–∏ –∏ –ø–æ–¥–Ω—è—Ç—å –±–∞–∑–æ–≤—ã–π –∫–∞—Ä–∫–∞—Å.

–í—ã–±–æ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã: modular monolith (–º–æ–¥—É–ª–∏ –∫–∞–∫ –≤ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞—Ö, –æ–¥–∏–Ω –¥–µ–ø–ª–æ–π)

–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π, –≤–µ—Ç–≤–ª–µ–Ω–∏–µ, CI (build + tests)

Docker Compose: Postgres (+ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ Keycloak)
–ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã: README, ADR (–∫—Ä–∞—Ç–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è), docker-compose.yml, –±–∞–∑–æ–≤—ã–π –ø–∞–π–ø–ª–∞–π–Ω.

1. Foundation (Skeleton)

–¶–µ–ª—å: —Ä–∞–±–æ—á–µ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Äú–ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è, –ª–æ–≥–∏–Ω–∏—Ç—Å—è, –ø–∏—à–µ—Ç –≤ –ë–î‚Äù.

Spring Boot –ø—Ä–æ–µ–∫—Ç, —Å–ª–æ–∏, –º–æ–¥—É–ª–∏

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (profiles: local/test)

–ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î (Flyway/Liquibase)

Observability: –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, health-check, –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
–ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã: —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª–µ–π, –º–∏–≥—Ä–∞—Ü–∏–∏ v1, OpenAPI –±–∞–∑–æ–≤—ã–π, health endpoints.

2. Identity & Access

–¶–µ–ª—å: –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —Ä–æ–ª–∏.

–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è/–ª–æ–≥–∏–Ω (JWT) –∏–ª–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å IdP

–†–æ–ª–∏: CLIENT, ADMIN, AUDITOR

–ü–æ–ª–∏—Ç–∏–∫–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ API
–ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã: security config, —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã auth, —Ç–µ—Å—Ç—ã –Ω–∞ –¥–æ—Å—Ç—É–ø.

3. Customers

–¶–µ–ª—å: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞–º–∏ –±–∞–Ω–∫–∞.

CRUD –∫–ª–∏–µ–Ω—Ç–∞ (–¥–ª—è ADMIN)

–ü—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–µ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è (–¥–ª—è CLIENT)

–°—Ç–∞—Ç—É—Å—ã –∫–ª–∏–µ–Ω—Ç–∞ (ACTIVE/BLOCKED)
–ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã: —Ç–∞–±–ª–∏—Ü—ã customers, endpoints, –≤–∞–ª–∏–¥–∞—Ü–∏–∏, —Ç–µ—Å—Ç—ã.

4. Accounts

–¶–µ–ª—å: —Å—á–µ—Ç–∞ –≤ EUR, –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª.

–û—Ç–∫—Ä—ã—Ç—å —Å—á—ë—Ç (ADMIN)

–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Å—á–µ—Ç–æ–≤ –∫–ª–∏–µ–Ω—Ç–∞

–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å/–∑–∞–∫—Ä—ã—Ç—å —Å—á—ë—Ç (ADMIN)

–ë–∞–ª–∞–Ω—Å –∫–∞–∫ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ (—á–µ—Ä–µ–∑ ledger) + –±—ã—Å—Ç—Ä—ã–π –∫–µ—à/–∞–≥—Ä–µ–≥–∞—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
–ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã: accounts schema, service, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã.

5. Ledger (—Å–µ—Ä–¥—Ü–µ ‚Äú–±–∞–Ω–∫–æ–≤—Å–∫–æ—Å—Ç–∏‚Äù)

–¶–µ–ª—å: –Ω–µ–∏–∑–º–µ–Ω—è–µ–º–∞—è –∏—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π.

Double-entry –º–æ–¥–µ–ª—å (DEBIT/CREDIT)

–†–∞—Å—á—ë—Ç –±–∞–ª–∞–Ω—Å–∞ –ø–æ –ø—Ä–æ–≤–æ–¥–∫–∞–º

–í—ã–ø–∏—Å–∫–∞ –ø–æ —Å—á—ë—Ç—É (–ø–∞–≥–∏–Ω–∞—Ü–∏—è, —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ –¥–∞—Ç–∞–º)
–ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã: ledger_entries, –∑–∞–ø—Ä–æ—Å—ã, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–Ω–¥–µ–∫—Å–æ–≤, —Ç–µ—Å—Ç—ã.

6. Transfers (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã)

–¶–µ–ª—å: –Ω–∞–¥—ë–∂–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã –≤–Ω—É—Ç—Ä–∏ –±–∞–Ω–∫–∞.

–ü–µ—Ä–µ–≤–æ–¥ –º–µ–∂–¥—É —Å—á–µ—Ç–∞–º–∏ –≤ EUR (atomic)

Idempotency key (–ø–æ–≤—Ç–æ—Ä –∑–∞–ø—Ä–æ—Å–∞ –Ω–µ –¥—É–±–ª–∏—Ä—É–µ—Ç –ø–µ—Ä–µ–≤–æ–¥)

Concurrency safety (–∑–∞—â–∏—Ç–∞ –æ—Ç –≥–æ–Ω–æ–∫)

–°—Ç–∞—Ç—É—Å—ã: PENDING/COMPLETED/REJECTED (–º–∏–Ω–∏–º–∞–ª—å–Ω–æ)
–ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã: transfers table, transfer service, —Ç–µ—Å—Ç—ã –Ω–∞ –≥–æ–Ω–∫–∏/–ø–æ–≤—Ç–æ—Ä—ã.

7. Audit & Admin

–¶–µ–ª—å: —Ç—Ä–∞—Å—Å–∏—Ä—É–µ–º–æ—Å—Ç—å –∏ ‚Äú–∫–∞–∫ –≤ –±–∞–Ω–∫–µ‚Äù.

AuditLog: –∫—Ç–æ/—á—Ç–æ/–∫–æ–≥–¥–∞/—Ä–µ–∑—É–ª—å—Ç–∞—Ç

Admin endpoints (–ø–æ–∏—Å–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤, —Å—á–µ—Ç–∞, –ø–µ—Ä–µ–≤–æ–¥—ã)

Audit –ø—Ä–æ—Å–º–æ—Ç—Ä (AUDITOR)
–ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã: audit schema, –∂—É—Ä–Ω–∞–ª, —Ñ–∏–ª—å—Ç—Ä—ã, OpenAPI.

8. Hardening (–∫–∞—á–µ—Å—Ç–≤–æ/–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)

–¶–µ–ª—å: –¥–æ–≤–µ—Å—Ç–∏ –¥–æ ‚Äúproduction-like‚Äù.

Rate limiting (–º–∏–Ω–∏–º–∞–ª—å–Ω–æ)

–£–ª—É—á—à–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ (Problem Details)

–ù–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ (–ø—Ä–æ—Å—Ç—ã–µ)

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (OpenAPI + –ø—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤)
–ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã: —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è, demo —Å—Ü–µ–Ω–∞—Ä–∏–∏.

2) –¢–ó (–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ)
2.1. –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç REST API –¥–ª—è –≤–µ–¥–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏ —Å—á–µ—Ç–æ–≤ –≤ EUR –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –º–µ–∂–¥—É —Å—á–µ—Ç–∞–º–∏ –±–∞–Ω–∫–∞, —Å –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–º –∂—É—Ä–Ω–∞–ª–æ–º –æ–ø–µ—Ä–∞—Ü–∏–π (ledger) –∏ –∞—É–¥–∏—Ç–æ–º –¥–µ–π—Å—Ç–≤–∏–π.

2.2. –ì—Ä–∞–Ω–∏—Ü—ã (Scope)
–í—Ö–æ–¥–∏—Ç

–ö–ª–∏–µ–Ω—Ç—ã (Customers)

–°—á–µ—Ç–∞ (Accounts) –≤ EUR

–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã (Transfers) –º–µ–∂–¥—É —Å—á–µ—Ç–∞–º–∏

Ledger (double-entry –ø—Ä–æ–≤–æ–¥–∫–∏)

–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è/–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

–ê—É–¥–∏—Ç (–∫—Ç–æ —á—Ç–æ —Å–¥–µ–ª–∞–ª)

–ù–µ –≤—Ö–æ–¥–∏—Ç (–¥–ª—è MVP)

–ú–µ–∂–±–∞–Ω–∫–æ–≤—Å–∫–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã (SEPA/SWIFT)

–ö–∞—Ä—Ç—ã, –∫—Ä–µ–¥–∏—Ç—ã, –¥–µ–ø–æ–∑–∏—Ç—ã

–í–∞–ª—é—Ç—ã –∫—Ä–æ–º–µ EUR

AML/KYC —Å–ª–æ–∂–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è

UI (–µ—Å–ª–∏ –ø–æ—è–≤–∏—Ç—Å—è ‚Äî –æ—Ç–¥–µ–ª—å–Ω–æ)

2.3. –†–æ–ª–∏ –∏ –ø—Ä–∞–≤–∞

CLIENT: –≤–∏–¥–µ—Ç—å —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ/—Å—á–µ—Ç–∞/–≤—ã–ø–∏—Å–∫–∏, –¥–µ–ª–∞—Ç—å –ø–µ—Ä–µ–≤–æ–¥ —Å–æ —Å–≤–æ–∏—Ö —Å—á–µ—Ç–æ–≤

ADMIN: —É–ø—Ä–∞–≤–ª—è—Ç—å –∫–ª–∏–µ–Ω—Ç–∞–º–∏/—Å—á–µ—Ç–∞–º–∏, –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å, —Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –ø–µ—Ä–µ–≤–æ–¥—ã

AUDITOR: –¥–æ—Å—Ç—É–ø –∫ –∞—É–¥–∏—Ç-–ª–æ–≥–∞–º –∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º –±–µ–∑ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π

2.4. –û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ (–º–∏–Ω–∏–º—É–º)

Customer(id, fullName, email, status, createdAt)

Account(id, customerId, ibanOrInternalNumber, status, createdAt)

Transfer(id, fromAccountId, toAccountId, amount, status, idempotencyKey, createdAt)

LedgerEntry(id, accountId, transferId, direction(DEBIT/CREDIT), amount, createdAt)

AuditLog(id, actorUserId, action, entityType, entityId, result, createdAt, metaJson)

2.5. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
Customers

ADMIN –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å/–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–∞

CLIENT –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å —Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å

Accounts

ADMIN –º–æ–∂–µ—Ç –æ—Ç–∫—Ä—ã—Ç—å —Å—á—ë—Ç –∫–ª–∏–µ–Ω—Ç—É (EUR)

ADMIN –º–æ–∂–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å/–∑–∞–∫—Ä—ã–≤–∞—Ç—å —Å—á—ë—Ç

CLIENT –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ —Å—á–µ—Ç–∞

–°—á—ë—Ç –º–æ–∂–µ—Ç —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ –ø–µ—Ä–µ–≤–æ–¥–∞—Ö —Ç–æ–ª—å–∫–æ –≤ —Å—Ç–∞—Ç—É—Å–µ ACTIVE

Ledger / –í—ã–ø–∏—Å–∫–∞

–í—Å–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è –∫–∞–∫ –ø—Ä–æ–≤–æ–¥–∫–∏ (–Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è)

–ë–∞–ª–∞–Ω—Å —Å—á—ë—Ç–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Å—É–º–º–æ–π –ø—Ä–æ–≤–æ–¥–æ–∫:

CREDIT —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç

DEBIT —É–º–µ–Ω—å—à–∞–µ—Ç

–í—ã–ø–∏—Å–∫–∞ –ø–æ —Å—á—ë—Ç—É: –ø–∞–≥–∏–Ω–∞—Ü–∏—è, —Ñ–∏–ª—å—Ç—Ä –ø–æ –¥–∞—Ç–∞–º, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –≤—Ä–µ–º–µ–Ω–∏

Transfers

–ü–µ—Ä–µ–≤–æ–¥ –≤–æ–∑–º–æ–∂–µ–Ω —Ç–æ–ª—å–∫–æ:

–º–µ–∂–¥—É ACTIVE —Å—á–µ—Ç–∞–º–∏

–≤ EUR

—Å—É–º–º–∞ > 0

—É –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤

–ü–µ—Ä–µ–≤–æ–¥ —Å–æ–∑–¥–∞—ë—Ç 2 –ø—Ä–æ–≤–æ–¥–∫–∏:

DEBIT –Ω–∞ fromAccount

CREDIT –Ω–∞ toAccount

–û–ø–µ—Ä–∞—Ü–∏—è –∞—Ç–æ–º–∞—Ä–Ω–∞: –ª–∏–±–æ –≤—Å—ë, –ª–∏–±–æ –Ω–∏—á–µ–≥–æ

–ü–æ–¥–¥–µ—Ä–∂–∫–∞ Idempotency-Key:

–ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–µ —Å —Ç–µ–º –∂–µ –∫–ª—é—á–æ–º –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–µ—Ä–≤–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

–õ–æ–≥–∏ –æ—à–∏–±–æ–∫ –∏ –ø—Ä–∏—á–∏–Ω—ã –æ—Ç–∫–∞–∑–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: INSUFFICIENT_FUNDS, ACCOUNT_BLOCKED)

2.6. –ù–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

Consistency: —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–æ—Å—Ç—å –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î (Postgres)

Concurrency: –∑–∞—â–∏—Ç–∞ –æ—Ç –≥–æ–Ω–æ–∫ –ø—Ä–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–ø–∏—Å–∞–Ω–∏—è—Ö

Security: JWT, —Ä–æ–ª–∏, –∑–∞–ø—Ä–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —á—É–∂–∏–º —Å—á–µ—Ç–∞–º

Observability: –ª–æ–≥–∏ + –º–µ—Ç—Ä–∏–∫–∏ + health

Testing: unit + integration (Testcontainers)

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è, –ø—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤

2.7. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ API (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä)

POST /auth/login (–µ—Å–ª–∏ –±–µ–∑ –≤–Ω–µ—à–Ω–µ–≥–æ IdP)

POST /admin/customers

GET /me

POST /admin/accounts

GET /accounts (—Å–≤–æ–∏)

GET /accounts/{id} (—Å–≤–æ–π)

GET /accounts/{id}/statement?from&to&page&size

POST /transfers (CLIENT)

GET /transfers (—Å–≤–æ–∏) / GET /admin/transfers (–≤—Å–µ)

GET /audit (AUDITOR/ADMIN)

2.8. –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏ MVP

–ú–æ–∂–Ω–æ –∑–∞–≤–µ—Å—Ç–∏ –∫–ª–∏–µ–Ω—Ç–∞ –∏ –æ—Ç–∫—Ä—ã—Ç—å –µ–º—É —Å—á—ë—Ç

–ú–æ–∂–Ω–æ –ø–æ–ø–æ–ª–Ω–∏—Ç—å —Å—á—ë—Ç (–∫–∞–∫ admin-–æ–ø–µ—Ä–∞—Ü–∏—è –∏–ª–∏ ‚Äúinitial funding‚Äù —Å—Ü–µ–Ω–∞—Ä–∏–π)

–ö–ª–∏–µ–Ω—Ç –º–æ–∂–µ—Ç —Å–¥–µ–ª–∞—Ç—å –ø–µ—Ä–µ–≤–æ–¥ –Ω–∞ –¥—Ä—É–≥–æ–π —Å—á—ë—Ç –≤–Ω—É—Ç—Ä–∏ –±–∞–Ω–∫–∞

–ü–æ—Å–ª–µ –ø–µ—Ä–µ–≤–æ–¥–∞:

–±–∞–ª–∞–Ω—Å –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è —É–º–µ–Ω—å—à–∏–ª—Å—è, –ø–æ–ª—É—á–∞—Ç–µ–ª—è —É–≤–µ–ª–∏—á–∏–ª—Å—è

–≤ ledger –ø–æ—è–≤–∏–ª–∏—Å—å –¥–≤–µ –ø—Ä–æ–≤–æ–¥–∫–∏

–ø–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å —Å —Ç–µ–º –∂–µ Idempotency-Key –Ω–µ —Å–æ–∑–¥–∞—ë—Ç –¥—É–±–ª—å

–ö–ª–∏–µ–Ω—Ç –Ω–µ –º–æ–∂–µ—Ç –≤–∏–¥–µ—Ç—å/—Ç—Ä–æ–≥–∞—Ç—å —á—É–∂–∏–µ —Å—á–µ—Ç–∞

–ê—É–¥–∏—Ç —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –∫–ª—é—á–µ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è (—Å–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞/—Å—á—ë—Ç–∞/–ø–µ—Ä–µ–≤–æ–¥)

3) –ë—ç–∫–ª–æ–≥ (Epics ‚Üí User Stories)

Epic A: Security

US-A1: –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, —Ö–æ—á—É –ª–æ–≥–∏–Ω–∏—Ç—å—Å—è –∏ –ø–æ–ª—É—á–∞—Ç—å JWT

US-A2: –∫–∞–∫ —Å–∏—Å—Ç–µ–º–∞, —Ö–æ—á—É –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø –ø–æ —Ä–æ–ª—è–º

Epic B: Customers

US-B1: –∫–∞–∫ admin, —Ö–æ—á—É —Å–æ–∑–¥–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–∞

US-B2: –∫–∞–∫ client, —Ö–æ—á—É –≤–∏–¥–µ—Ç—å —Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å

Epic C: Accounts

US-C1: –∫–∞–∫ admin, —Ö–æ—á—É –æ—Ç–∫—Ä—ã—Ç—å —Å—á—ë—Ç –∫–ª–∏–µ–Ω—Ç—É –≤ EUR

US-C2: –∫–∞–∫ client, —Ö–æ—á—É –≤–∏–¥–µ—Ç—å —Å–≤–æ–∏ —Å—á–µ—Ç–∞

Epic D: Ledger

US-D1: –∫–∞–∫ —Å–∏—Å—Ç–µ–º–∞, —Ö–æ—á—É —Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ–≤–æ–¥–∫–∏ –Ω–µ–∏–∑–º–µ–Ω—è–µ–º–æ

US-D2: –∫–∞–∫ client, —Ö–æ—á—É –ø–æ–ª—É—á–∞—Ç—å –≤—ã–ø–∏—Å–∫—É –ø–æ —Å—á—ë—Ç—É

Epic E: Transfers

US-E1: –∫–∞–∫ client, —Ö–æ—á—É –¥–µ–ª–∞—Ç—å –ø–µ—Ä–µ–≤–æ–¥ –º–µ–∂–¥—É —Å–≤–æ–∏–º–∏/—á—É–∂–∏–º–∏ —Å—á–µ—Ç–∞–º–∏ –≤–Ω—É—Ç—Ä–∏ –±–∞–Ω–∫–∞

US-E2: –∫–∞–∫ —Å–∏—Å—Ç–µ–º–∞, —Ö–æ—á—É –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–≤–æ–¥–∞

Epic F: Audit

US-F1: –∫–∞–∫ auditor, —Ö–æ—á—É —Å–º–æ—Ç—Ä–µ—Ç—å audit log –ø–æ —Ñ–∏–ª—å—Ç—Ä–∞–º



–ü–æ–ª–Ω—ã–π —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫ –ø—Ä–æ–µ–∫—Ç–∞
1Ô∏è‚É£ –Ø–∑—ã–∫ –∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞
üîπ Java

Java 21 LTS (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ –¥–ª—è pet-project)

Virtual Threads (Project Loom)

Pattern Matching

Record classes

–û—Ç–ª–∏—á–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Spring Boot 3+

Java 25 –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –Ω–æ 21 LTS ‚Äî —Å–∞–º—ã–π —Å—Ç–∞–±–∏–ª—å–Ω—ã–π –∏ ‚Äúproduction-like‚Äù –≤—ã–±–æ—Ä.

2Ô∏è‚É£ Backend Framework
üîπ Spring Boot

Spring Boot 3.4+

Spring Framework 6.1+

–ü–æ—á–µ–º—É:

Jakarta EE 10

Native support –¥–ª—è Observability

–õ—É—á—à–∏–π —ç–∫–æ—Å–∏—Å—Ç–µ–º–Ω—ã–π –≤—ã–±–æ—Ä –¥–ª—è —Ñ–∏–Ω—Ç–µ—Ö-pet-–ø—Ä–æ–µ–∫—Ç–∞

3Ô∏è‚É£ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
üîπ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π —Å—Ç–∏–ª—å

Modular Monolith

–ß—ë—Ç–∫–∏–µ –º–æ–¥—É–ª–∏ (identity, customers, accounts, ledger, transfers, audit)

–û–¥–∏–Ω deploy ‚Üí –ª–µ–≥–∫–æ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å

–ú–æ–∂–Ω–æ —ç–≤–æ–ª—é—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –≤ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã

üîπ –ü–æ–¥—Ö–æ–¥

DDD-inspired

Transaction Script + Domain Services (–±–µ–∑ –æ–≤–µ—Ä–∏–Ω–∂–∏–Ω–∏—Ä–∏–Ω–≥–∞)

4Ô∏è‚É£ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
üîê Auth & Security

Spring Security 6

JWT (access + refresh)

OAuth2 Resource Server

–û–ø—Ü–∏–∏:

üîπ Keycloak (Docker) ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ

üîπ –ò–ª–∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π auth (Spring Authorization Server) ‚Äî —É—á–µ–±–Ω–æ

üîê –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

Method Security (@PreAuthorize)

Password hashing: BCrypt

CORS / CSRF (API-friendly)

5Ô∏è‚É£ API –∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã
üîπ REST API

REST + JSON

Versioning: /api/v1/...

üîπ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

OpenAPI 3.1

Springdoc OpenAPI

Swagger UI

üîπ –û—à–∏–±–∫–∏

RFC 7807 ‚Äì Problem Details

–ì–ª–æ–±–∞–ª—å–Ω—ã–π @ControllerAdvice

6Ô∏è‚É£ –†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏
üîπ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

PostgreSQL 16

ACID

Row-level locking

–û—Ç–ª–∏—á–Ω–æ –¥–ª—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

üîπ ORM / Data Access

Spring Data JPA

Hibernate 6

JPQL + native queries (—Ç–æ—á–µ—á–Ω–æ)

üîπ –ú–∏–≥—Ä–∞—Ü–∏–∏

Flyway (—Ä–µ–∫–æ–º–µ–Ω–¥—É—é)
–∏–ª–∏

Liquibase

7Ô∏è‚É£ –§–∏–Ω–∞–Ω—Å–æ–≤–æ–µ —è–¥—Ä–æ (Ledger)
üîπ –ü–æ–¥—Ö–æ–¥

Double-entry accounting

Immutable ledger

Balance = aggregate from ledger

üîπ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

SQL aggregation

Optional: materialized views / cached balance table

8Ô∏è‚É£ –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å –∏ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å
üîπ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

@Transactional

Isolation: READ_COMMITTED

SELECT ‚Ä¶ FOR UPDATE

üîπ –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å

–¢–∞–±–ª–∏—Ü–∞ idempotency_keys

Unique constraint

9Ô∏è‚É£ Observability (–æ—á–µ–Ω—å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ)
üîπ –ú–µ—Ç—Ä–∏–∫–∏ –∏ —Ç—Ä–µ–π—Å—ã

Micrometer

OpenTelemetry

Prometheus-ready

üîπ –õ–æ–≥–∏

Logback

JSON logs (logstash-encoder)

üîπ Health

Spring Boot Actuator

üîü –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
üîπ Unit Tests

JUnit 5

Mockito

AssertJ

üîπ Integration Tests

Testcontainers

PostgreSQL container

Keycloak container (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

üîπ API Tests

RestAssured (–ø–æ –∂–µ–ª–∞–Ω–∏—é)

1Ô∏è‚É£1Ô∏è‚É£ Dev & Build
üîπ Build tool

Gradle (Kotlin DSL) ‚Üê —Ä–µ–∫–æ–º–µ–Ω–¥—É—é
–∏–ª–∏

Maven

üîπ Code Quality

Checkstyle

SpotBugs

PMD

1Ô∏è‚É£2Ô∏è‚É£ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
üîπ Docker

Dockerfile (multi-stage)

docker-compose

postgres

keycloak

app

1Ô∏è‚É£3Ô∏è‚É£ CI / CD (–º–∏–Ω–∏–º—É–º)
üîπ CI

GitHub Actions

build

tests

docker build

1Ô∏è‚É£4Ô∏è‚É£ –§–æ—Ä–º–∞—Ç—ã –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã

JSON

ISO-8601 –¥–ª—è –¥–∞—Ç

BigDecimal –¥–ª—è –¥–µ–Ω–µ–≥

UUID v7 (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –æ—á–µ–Ω—å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ)

EUR –∫–∞–∫ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–∞–ª—é—Ç–∞